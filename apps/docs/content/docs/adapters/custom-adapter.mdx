---
title: Custom Adapter
description: Use createAdapter with your own preconfigured S3Client.
---

Use `createAdapter` when you need full control over client configuration, or when your provider is not covered by a built-in preset.

## Basic Setup

```ts
import { S3Client } from "@aws-sdk/client-s3";
import { createAdapter } from "vs3/adapters";

const client = new S3Client({
  endpoint: "https://s3.custom-provider.example",
  region: "us-east-1",
  credentials: {
    accessKeyId: process.env.S3_ACCESS_KEY!,
    secretAccessKey: process.env.S3_SECRET_KEY!,
  },
});

const adapter = createAdapter({ client });
```

## Why Use This

- your provider requires custom endpoint/signing behavior
- you need extra `S3Client` settings not covered by a preset
- you already manage an `S3Client` instance in your app

## Utility: generateObjectKey

`vs3/adapters` also exports `generateObjectKey(fileInfo)` to create default object keys.
Use it as a helper when implementing custom key strategies outside of `createStorage`.

## Next Steps

- [Overview](/docs/adapters/overview) for built-in presets.
- [Storage Options](/docs/server/storage-options) for `generateKey` and upload constraints.
